import{R as e}from"./vendor-react-BqCNLigP.js";import{_ as t}from"./vendor-react-ui-Bu4CYNdA.js";import{M as i,C as n}from"./mixin-CWST_Rix.js";import"./vendor-players-DUwgxdJ7.js";class o extends(i(n)){static shadowRootOptions={...n.shadowRootOptions};static getTemplateHTML=e=>{const{src:t,...i}=e;return n.getTemplateHTML(i)};#e;attributeChangedCallback(e,t,i){"src"!==e&&super.attributeChangedCallback(e,t,i),"src"===e&&t!=i&&this.load()}async load(){if(this.#e)return void this.api.attachSource(this.src);this.#e=!0;const e=await t(()=>import("./vendor-players-DUwgxdJ7.js").then(e=>e.d),[]);this.api=e.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{const e=this.api.getRepresentationsByType("video");let t=this.videoTracks.getTrackById("main");t||(t=this.addVideoTrack("main"),t.id="main",t.selected=!0),e.forEach(e=>{const i=e.bandwidth??e.bitrate??(Number.isFinite(e.bitrateInKbit)?1e3*e.bitrateInKbit:void 0);t.addRendition(e.id,e.width,e.height,e.mimeType??e.codec,i).id=e.id}),this.videoRenditions.addEventListener("change",()=>{const e=this.videoRenditions[this.videoRenditions.selectedIndex];(null==e?void 0:e.id)?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",e.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})})})}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",o);var s=o,a=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),r={className:"class",htmlFor:"for"};function d(e){return e.toLowerCase()}function l(e){return"boolean"==typeof e?e?"":void 0:"function"==typeof e||"object"==typeof e&&null!==e?void 0:e}function c(e,t,i){var n;e[t]=i,null==i&&t in((null==(n=globalThis.HTMLElement)?void 0:n.prototype)??{})&&e.removeAttribute(t)}var u=function({react:e,tagName:t,elementClass:i,events:n,displayName:o,defaultProps:s,toAttributeName:u=d,toAttributeValue:p=l}){const h=Number.parseInt(e.version)>=19,m=e.forwardRef((o,d)=>{var m,f;const v=e.useRef(null),y=e.useRef(new Map),b={},g={},T={},w={};for(const[e,t]of Object.entries(o)){if(a.has(e)){T[e]=t;continue}const n=u(r[e]??e);if(i.prototype&&e in i.prototype&&!(e in((null==(m=globalThis.HTMLElement)?void 0:m.prototype)??{}))&&!(null==(f=i.observedAttributes)?void 0:f.some(e=>e===n))){w[e]=t;continue}if(e.startsWith("on")){b[e]=t;continue}const o=p(t);if(n&&null!=o&&(g[n]=String(o),h||(T[n]=o)),n&&h){const e=l(t);T[n]=o!==e?o:t}}if("undefined"!=typeof window){for(const t in b){const i=b[t],o=t.endsWith("Capture"),s=((null==n?void 0:n[t])??t.slice(2).toLowerCase()).slice(0,o?-7:void 0);e.useLayoutEffect(()=>{const e=null==v?void 0:v.current;if(e&&"function"==typeof i)return e.addEventListener(s,i,o),()=>{e.removeEventListener(s,i,o)}},[null==v?void 0:v.current,i])}e.useLayoutEffect(()=>{if(null===v.current)return;const e=new Map;for(const t in w)c(v.current,t,w[t]),y.current.delete(t),e.set(t,w[t]);for(const[t,i]of y.current)c(v.current,t,void 0);y.current=e})}if("undefined"==typeof window&&(null==i?void 0:i.getTemplateHTML)&&(null==i?void 0:i.shadowRootOptions)){const{mode:t,delegatesFocus:n}=i.shadowRootOptions,s=e.createElement("template",{shadowrootmode:t,shadowrootdelegatesfocus:n,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(g,o)}});T.children=[s,T.children]}return e.createElement(t,{...s,...T,ref:e.useCallback(e=>{v.current=e,"function"==typeof d?d(e):null!==d&&(d.current=e)},[d])})});return m.displayName=o??i.name,m}({react:e,tagName:"dash-video",elementClass:s,toAttributeName:e=>"muted"===e?"":"defaultMuted"===e?"muted":d(e)});
/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Modified version of `@lit/react` for vanilla custom elements with support for SSR.
   *)
*/export{u as default};
